(this.webpackJsonppinmi=this.webpackJsonppinmi||[]).push([[0],{157:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(14),r=n(10),s=n(36),o=n(89),l=(n(169),o.a.initializeApp({apiKey:"AIzaSyBIuy2AyZ1BbeWsIdXBWPVHbZOOLUKlo4g",authDomain:"pin-mi-e430d.firebaseapp.com",projectId:"pin-mi-e430d",storageBucket:"pin-mi-e430d.appspot.com",messagingSenderId:"31998012275",appId:"1:31998012275:web:fc8cd7078523c457c63306",measurementId:"G-CBF7TZ5DF5"})),j=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){var e=l.firestore().collection("Pins").orderBy("pinTime");return e=e.onSnapshot((function(e){var t=e.docs.map((function(e){return Object(s.a)(Object(s.a)({},e.data()),{},{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(n)&&c(t)})),function(){e()}}),[n]),{pins:n,setPins:c}},u=n(1),d=Object(i.createContext)(),h=function(e){var t=e.children,n=Object(i.useState)(0),c=Object(r.a)(n,2),a=c[0],s=c[1];return Object(u.jsx)(d.Provider,{value:{curActiveStep:a,setCurActiveStep:s},children:t})},b=function(){return Object(i.useContext)(d)},O=Object(i.createContext)(),f=function(e){var t=e.children,n=j(),i=n.pins,c=n.setPins;return Object(u.jsx)(O.Provider,{value:{pins:i,setPins:c},children:t})},p=Object(i.createContext)(),x=function(e){var t=e.children,n=Object(i.useState)("YOUR_API_KEY"),c=Object(r.a)(n,2),a=c[0],s=c[1],o=Object(i.useState)("YOUR_SESSION_ID"),l=Object(r.a)(o,2),j=l[0],d=l[1],h=Object(i.useState)("YOUR_TOKEN"),b=Object(r.a)(h,2),O=b[0],f=b[1];return Object(u.jsx)(p.Provider,{value:[a,s,j,d,O,f],children:t})},m=n(60),g=n(5),y=n(171),v=n(202),S=n(203),k=n(226),I=n(199),w=n(6),W=n(95),C=n.n(W),T=n(96),z=n.n(T),A=n(97),N=n.n(A),P=n(98),R=n.n(P),D=n(94),E=n.n(D),B=n(99),L=n.n(B),_=Object(I.a)({root:{backgroundColor:"#DDEEF9",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundColor:"#FC6D78",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundColor:"#FDA2A9"},space:{marginTop:100}});function M(e){var t,n=_(),i=e.active,c=e.completed,a={1:Object(u.jsx)(E.a,{}),2:Object(u.jsx)(C.a,{}),3:Object(u.jsx)(z.a,{}),4:Object(u.jsx)(N.a,{}),5:Object(u.jsx)(R.a,{}),6:Object(u.jsx)(L.a,{})};return Object(u.jsx)("div",{className:Object(g.a)(n.root,(t={},Object(m.a)(t,n.active,i),Object(m.a)(t,n.completed,c),t)),children:a[String(e.icon)]})}var F=Object(w.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundColor:"#FC6D78"}},completed:{"& $line":{backgroundColor:"#FDA2A9"}},line:{height:3,border:0,backgroundColor:"#DDEEF9",borderRadius:1}})(y.a),U=function(){var e=b().curActiveStep;return Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{alternativeLabel:!0,activeStep:e,connector:Object(u.jsx)(F,{}),children:["MI Refresher","Practice Session","Discussion Prep","Collaborative Discussion","Self-Reflection","Complete"].map((function(e){return Object(u.jsx)(S.a,{children:Object(u.jsx)(k.a,{StepIconComponent:M,children:e})},e)}))})})},Y=n(224),V=n(204),K=n(227),H=n(206),X=n(207),J=Object(I.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),q=function(){var e=b(),t=e.curActiveStep,n=e.setCurActiveStep,i=J(),a=c.a.useState(!1),s=Object(r.a)(a,2),o=s[0],l=s[1],j=function(){l(!1)};return Object(u.jsx)("div",{children:Object(u.jsx)(Y.a,{align:"center",m:2,children:Object(u.jsxs)("div",{children:[Object(u.jsx)(V.a,{variant:"contained",disabled:0===t,onClick:function(){n((function(e){return e-1}))},className:i.button,children:"Back"}),Object(u.jsx)(V.a,{variant:"contained",color:"primary",onClick:function(){l(!0)},className:i.button,children:t===["MI Refresher","Practice Session","Discussion Prep","Collaborative Discussion","Self-Reflection","Complete"].length-1?"Finish":"Next"}),Object(u.jsxs)(K.a,{open:o,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(H.a,{id:"alert-dialog-title",children:"Are you sure you want to go to next session?"}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(V.a,{variant:"contained",onClick:j,children:"Cancel"}),Object(u.jsx)(V.a,{variant:"contained",onClick:function(){n((function(e){return e+1})),j()},color:"primary",children:"Confirm"})]})]})]})})})},G=n(46),Z=n.n(G),$=n(63),Q=function(e){var t=~~(e/3600),n=~~(e%3600/60),i=~~e%60,c="";return t>0&&(c+=t+":"+(n<10?"0":"")),c+=n+":"+(i<10?"0":""),c+=""+i},ee=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var n=(new Date).getTime(),i=new Array(8),c=7;c>=0;c--)i[c]=e.charAt(n%64),n=Math.floor(n/64);var a=i.join("");for(c=0;c<12;c++)a+=e.charAt(t[c]);return a}}(),te=n(211),ne=n(172),ie=n(223),ce=n(231),ae=n(218),re=n(113),se=n(57),oe=n(208),le=n(209),je=n(210),ue=n(212),de=n(213),he=n(214),be=n(215),Oe=n(216),fe=n(100),pe=n.n(fe),xe=n(17),me=n.n(xe),ge=["children","classes","onClose"],ye=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(w.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,i=e.onClose,c=Object(re.a)(e,ge);return Object(u.jsxs)(H.a,Object(s.a)(Object(s.a)({disableTypography:!0,className:n.root},c),{},{children:[Object(u.jsx)(se.a,{variant:"h6",children:t}),i?Object(u.jsx)(oe.a,{"aria-label":"close",className:n.closeButton,onClick:i,children:Object(u.jsx)(pe.a,{})}):null]}))})),o=function(){i(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)(Y.a,{textAlign:"left",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:["What",Object(u.jsx)(le.a,{href:"#",onClick:function(){i(!0)},children:" MI skills "}),"were used here?"]}),Object(u.jsxs)(K.a,{onClose:o,open:n,children:[Object(u.jsx)(a,{onClose:o,align:"center",children:Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",children:" What are the four core MI skills? "})}),Object(u.jsx)(je.a,{dividers:!0,children:Object(u.jsx)(Y.a,{m:.5,height:500,overflow:"auto",children:Object(u.jsxs)(se.a,{component:"div",children:[Object(u.jsx)(Y.a,{fontWeight:"fontWeightRegular",m:1,mb:2,children:"OARS is a skills-based, client-centered model of interactive techniques. Using these skills will help establish and maintain rapport with your client, assess your client\u2019s needs, and personalize your counseling and education responses."}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:16,children:"Open-ended questions"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Establish a safe environment and help to build rapport and a trusting and respectful professional relationship."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Explore, clarify and gain an understanding of your client\u2019s world."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Learn about your client\u2019s experiences, thoughts, feelings, beliefs, and hopes for the future."})]})]})})}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:14,children:"You may ask:"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"What... brings you to the clinic today?"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"When... if ever, might you want to be a parent?"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Where... will you get the support you need?"})]})]})})}),Object(u.jsx)(Oe.a,{light:!0}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:16,pt:3,children:"Affirmations"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Build rapport, demonstrate empathy, and affirm your client\u2019s strengths and abilities."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Build on your client\u2019s level of self-efficacy and share a belief that they can be responsible for their own decisions and life choices."})]})]})})}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:14,children:"You may ask:"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"It\u2019s great that you are here today. It\u2019s not always easy..."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"It sounds like you\u2019ve been really thoughtful about your decision."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"You\u2019re really trying hard to..."})]})]})})}),Object(u.jsx)(Oe.a,{light:!0}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:16,pt:3,children:"Reflective Listening"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Listen to your client to help you gain a deeper understanding of their life."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Listen, observe, and share (reflect on) your own perceptions of what your client shares."})]})]})})}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:14,children:"You can reflect words, emotions, and/or behaviors:"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Reflecting words (Some of what I heard you say...)"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Reflecting emotions (You seem [to be feeling]...)"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Reflecting behavior (I noticed...)"})]})]})})}),Object(u.jsx)(Oe.a,{light:!0}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:16,pt:3,children:"Summary"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Help move the conversation from the beginning, through the middle to closing."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Check that you are understanding your client\u2019s goals and preferences."})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"Confirm that your client has an understanding of the key elements of a plan."})]})]})})}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightBold",fontSize:14,children:"Summarizing can be demonstrated in three ways:"}),Object(u.jsx)(te.a,{item:!0,xs:12,children:Object(u.jsx)("div",{children:Object(u.jsxs)(ue.a,{dense:!0,children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"A collective summary (So let\u2019s go over what we have talked about so far.)"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"A linking summary (A minute ago you said you wanted to talk to your partner... Would you like to talk more about how you might try?)"})]}),Object(u.jsxs)(de.a,{children:[Object(u.jsx)(he.a,{style:{minWidth:"25px"},children:Object(u.jsx)(me.a,{style:{fontSize:"50%"}})}),Object(u.jsx)(be.a,{primary:"A transitional summary to close (So you\u2019ve just described your plan. We\u2019re always here to help in any way. What other questions do you have before you leave today?)"})]})]})})}),Object(u.jsx)(Oe.a,{light:!0}),Object(u.jsx)(Y.a,{fontWeight:"fontWeightLight",fontSize:14,pt:3,children:"Source: Reproductive Health National Training Center OARS Handout"})]})})})]})]})},ve=function(e){var t=e.curPinIndex,n=Object(i.useRef)(""),c=Object(i.useRef)(""),a=Object(i.useRef)(""),s=j().pins,o=Object(i.useState)(""),d=Object(r.a)(o,2),h=d[0],b=d[1],O=Object(i.useState)(""),f=Object(r.a)(O,2),p=f[0],x=f[1],m=Object(i.useState)(""),g=Object(r.a)(m,2),y=g[0],v=g[1],S=Object(i.useState)(""),k=Object(r.a)(S,2),I=k[0],w=k[1];Object(i.useEffect)((function(){W("pinInfos.pinNote"),W("pinInfos.pinPerspective"),W("pinInfos.pinCategory"),W("pinInfos.pinSkill")}),[t]);var W=function(){var e=Object($.a)(Z.a.mark((function e(n){var i,c,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.firestore().collection("Pins").doc(Q(s.map((function(e){return e.pinTime}))[t]));case 2:return i=e.sent,c=n.split("."),"",e.next=7,i.get().then((function(e){if(e.exists)return e.data()[c[0]][c[1]];console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 7:a=e.sent,"pinInfos.pinNote"===n?x(a):"pinInfos.pinPerspective"===n?v(a):"pinInfos.pinCategory"===n?b(a):"pinInfos.pinSkill"===n&&w(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,n){"pinInfos.pinNote"===e?x(n):"pinInfos.pinPerspective"===e?v(n):"pinInfos.pinSkill"===e&&w(n);var i={};i["".concat(e)]=n,l.firestore().collection("Pins").doc(Q(s.map((function(e){return e.pinTime}))[t])).update(i).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))};return Object(u.jsx)(te.a,{item:!0,xs:12,sm:8,children:Object(u.jsx)(ne.a,{children:Object(u.jsxs)(Y.a,{m:2,height:700,children:[Object(u.jsxs)(Y.a,{fontStyle:"italic",fontSize:18,children:["The session was pinned at ",Q(s.map((function(e){return e.pinTime}))[t])]}),Object(u.jsx)(Y.a,{textAlign:"left",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"Would you like to take some notes for this pin?"}),Object(u.jsx)(ie.a,{id:"outlined-secondary",label:"Personal Notes...",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,margin:"normal",value:p,inputRef:n,onChange:function(){return C("pinInfos.pinNote",n.current.value)}}),Object(u.jsx)(Y.a,{my:1,fontStyle:"italic",fontSize:18,children:" To share with your peer:"}),Object(u.jsx)(Y.a,{textAlign:"left",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"What is your perspective of what happened at this pin?"}),Object(u.jsx)(ie.a,{id:"outlined-secondary",label:"Type a response...",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,margin:"normal",value:y,inputRef:c,onChange:function(){return C("pinInfos.pinPerspective",c.current.value)}}),Object(u.jsx)(Y.a,{textAlign:"left",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"What would you categorize this pin as?"}),Object(u.jsx)(Y.a,{align:"left",m:3,children:Object(u.jsxs)(ce.a,{value:h,exclusive:!0,onChange:function(e,t){b(t),C("pinInfos.pinCategory",t)},size:"large",children:[Object(u.jsx)(ae.a,{value:"strength",selected:"strength"===h,children:"Strength"}),Object(u.jsx)(ae.a,{value:"opportunity",selected:"opportunity"===h,children:"Opportunity"})]})}),Object(u.jsx)(ye,{}),Object(u.jsx)(ie.a,{id:"outlined-secondary",label:"Type a response...",fullWidth:!0,variant:"outlined",multiline:!0,rows:1,margin:"normal",value:I,inputRef:a,onChange:function(){return C("pinInfos.pinSkill",a.current.value)}})]})})})},Se=n(73),ke=n(220),Ie=n(221),we=n(222),We=n(102),Ce=n.n(We),Te=n(103),ze=n.n(Te),Ae=n(101),Ne=n.n(Ae),Pe=n.p+"static/media/audio.8b79ec3f.mp3",Re=n.p+"static/media/pin.e9019ecc.svg",De=n(228),Ee=n(219);n(157);function Be(e){var t=e.maxValue,n=e.pinMarks,c=e.curValue,a=(e.canClick,Object(i.useState)([])),s=Object(r.a)(a,2),o=s[0],l=s[1],j=Object(w.a)({root:{color:"#52af77",height:8,marginTop:20,width:990,marginLeft:105,"&.Mui-disabled":{color:"#52af77"}},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-18,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"},"&.Mui-disabled":{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-18,marginLeft:-12}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{marginTop:-8,height:5,borderRadius:.5},rail:{marginTop:-8,height:5,borderRadius:.5},mark:{backgroundColor:"#bfbfbf",height:15,width:8,marginTop:-10,marginLeft:-3},markLabel:{marginTop:-10,color:"#111111"}})(De.a);return Object(i.useEffect)((function(){for(var e=[],t=0;t<n.length;t++)e[t]={value:n[t],label:Q(n[t])};l(e)}),[n]),Object(u.jsx)(Ee.a,{className:"SliderbarContext",children:Object(u.jsx)(j,{className:"SliderbarOverlay",valueLabelDisplay:"on","aria-label":"pretto slider",defaultValue:0,value:c,min:0,max:t,marks:o,valueLabelFormat:function(e){return Q(e)},disabled:!0})})}var Le,_e,Me,Fe=Object(I.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},imageIcon:{height:"100%"},iconRoot:{textAlign:"center"},fab:{marginLeft:500},display:"flex","& > * + *":{marginLeft:e.spacing(5)}}})),Ue=function(e){var t=e.curPinIndex,n=e.setCurPinIndex,c=Fe(),a=Object(i.useRef)(null),s=b().curActiveStep,o=j(),d=o.pins,h=o.setPins,O=ee(),f=Object(i.useState)(!1),p=Object(r.a)(f,2),x=p[0],m=p[1],g=Object(i.useState)(""),y=Object(r.a)(g,2),v=y[0],S=y[1],k=Object(i.useState)(100),I=Object(r.a)(k,2),w=I[0],W=I[1],C=Object(i.useState)(0),T=Object(r.a)(C,2),z=T[0],A=T[1],N=d.map((function(e){return e.pinTime})),P=function(e){t>0&&(n(e),a.current.seekTo(parseFloat(d.map((function(e){return e.pinTime}))[e])))},R=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t<d.map((function(e){return e.pinTime})).length-1&&(i?(a.current.seekTo(parseFloat(d.map((function(e){return e.pinTime}))[e])),n(e-1)):(a.current.seekTo(parseFloat(d.map((function(e){return e.pinTime}))[e])),n(e)))},D=function(){var e=Object($.a)(Z.a.mark((function e(t){var i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),S("primary"),setTimeout((function(){m(!1)}),800),e.next=5,l.firestore().collection("Pins").doc(Q(t)).set({pinID:O,pinTime:t,pinInfos:{pinNote:"",pinPerspective:"",pinCategory:"",pinSkill:""}}).then((function(){h(Object(Se.a)(d))})).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}));case 5:console.log("finished writing"),console.log(t),i=[].concat(Object(Se.a)(d),[{pinID:O,pinTime:t,pinInfos:{pinNote:"",pinPerspective:"",pinCategory:"",pinSkill:""}}]).sort((function(e,t){return e.pinTime-t.pinTime})),n(i.map((function(e){return e.pinTime})).indexOf(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.firestore().collection("Pins").doc(t).delete().then((function(){h(Object(Se.a)(d))})).then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error writing document: ",e)})),m(!0),S("secondary"),setTimeout((function(){m(!1)}),800);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(te.a,{item:!0,xs:12,children:[2===s?Object(u.jsx)(se.a,{variant:"h6",children:"Listen back to your audio recording with pins and take notes to discuss with your peer."}):Object(u.jsx)(se.a,{variant:"h6",children:"Review all pins with your peer, User Name..."}),Object(u.jsxs)(ne.a,{variant:"outlined",style:{padding:10,marginTop:10},children:[Object(u.jsx)(Be,{maxValue:w,curValue:z,pinMarks:d.map((function(e){return e.pinTime})),canClick:x}),Object(u.jsx)(Ne.a,{ref:a,url:Pe,controls:!0,width:"100%",height:"55px",style:{marginBottom:8},onDuration:function(e){return W(e)},onSeek:function(e){A(e);var t=Math.round(a.current.getCurrentTime()),i=N.indexOf(t);-1!=i&&(n(i),a.current.seekTo(parseFloat(d.map((function(e){return e.pinTime}))[i])))}}),Object(u.jsxs)("div",{className:c.root,children:[Object(u.jsx)(ke.a,{color:"default","aria-label":"last",className:c.fab,onClick:function(){return P(t-1)},children:Object(u.jsx)(Ce.a,{})}),Object(u.jsx)(ke.a,{color:"default","aria-label":"addPin",onClick:function(){return function(){var e=Math.round(a.current.getCurrentTime()),n=N.indexOf(e);-1!==d.map((function(e){return e.pinTime})).indexOf(e)?(E(d.map((function(e){return e.docId}))[n]),console.log(d.length),0===d.map((function(e){return e.pinTime})).length?a.current.seekTo(parseFloat(0)):2===d.map((function(e){return e.pinTime})).length?0===t?a.current.seekTo(parseFloat(d.map((function(e){return e.pinTime}))[1])):P(t-1):t===d.map((function(e){return e.pinTime})).length-1||t===d.map((function(e){return e.pinTime})).length?P(t-1):R(t+1,!0)):D(e)}()},disabled:x,children:x?Object(u.jsx)(Ie.a,{color:v}):Object(u.jsx)(we.a,{classes:{root:c.iconRoot},children:Object(u.jsx)("img",{className:c.imageIcon,src:Re,alt:""})})}),Object(u.jsx)(ke.a,{color:"default","aria-label":"next",onClick:function(){return R(t+1)},children:Object(u.jsx)(ze.a,{})}),Object(u.jsx)(se.a,{children:"Current Pin Time is: "+Q(d.map((function(e){return e.pinTime}))[t])}),Object(u.jsx)(se.a,{children:"New Pins from database: "+d.map((function(e){return Q(e.pinTime)}))}),Object(u.jsx)(se.a,{children:"Current pin index: "+t})]})]})]})},Ye=function(){return Object(u.jsx)(te.a,{item:!0,xs:12,sm:4,children:Object(u.jsx)(ne.a,{children:Object(u.jsxs)(Y.a,{m:2,height:700,overflow:"auto",children:[Object(u.jsx)(Y.a,{fontSize:20,fontStyle:"Normal",fontWeight:"fontWeightBold",children:"Transcript"}),Object(u.jsxs)(se.a,{component:"div",children:[Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."}),Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."}),Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."}),Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."}),Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."}),Object(u.jsx)(Y.a,{fontWeight:"bold",children:"0:03"}),Object(u.jsx)(se.a,{children:" Am I starting now? Um, I guess, should I ask the person to continue thinking out loud? I guess? Yeah, we can share this soon or yeah, you can think out loud for this part too. Okay."})]})]})})})},Ve=Object(I.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},imageIcon:{height:"100%"},iconRoot:{textAlign:"center"},fab:{marginLeft:450,marginRight:200}}})),Ke=function(){var e=Ve(),t=Object(i.useState)(-1),n=Object(r.a)(t,2),c=n[0],a=n[1];return Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(Ee.a,{children:Object(u.jsxs)(te.a,{container:!0,spacing:2,children:[Object(u.jsx)(Ue,{curPinIndex:c,setCurPinIndex:a}),Object(u.jsx)(Ye,{}),Object(u.jsx)(ve,{curPinIndex:c})]})})})},He=n(72),Xe=n(105),Je=n.n(Xe),qe=n(106),Ge=n.n(qe),Ze=n(107),$e=n.n(Ze),Qe=n(108),et=n.n(Qe),tt=n(109),nt=n.n(tt),it=n(110),ct=n.n(it),at=n(111),rt=n.n(at),st=n(112),ot=n.n(st),lt=n(229),jt=n(80),ut="HANDLE_SUBSCRIPTION",dt=function(e){return{type:ut,payload:e}},ht=Object(jt.a)({videoChat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isStreamSubscribed:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(s.a)(Object(s.a)({},e),{},{isStreamSubscribed:t.payload});default:return e}}}),bt=Object(jt.b)(ht,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ot=n(79),ft=n.n(Ot);function pt(e){e&&alert(e.message)}n(167);var xt=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),c=n[0],a=n[1],s=Object(i.useState)(!0),o=Object(r.a)(s,2),l=o[0],j=o[1],d=Object(i.useState)(!0),h=Object(r.a)(d,2),b=h[0],O=h[1],f=Object(i.useState)(!0),p=Object(r.a)(f,2),x=p[0],m=p[1],g=Object(i.useState)(!0),y=Object(r.a)(g,2),v=y[0],S=y[1],k=Object(i.useState)(!1),I=Object(r.a)(k,2),w=I[0],W=I[1],C=Object(He.b)((function(e){return e.videoChat.isStreamSubscribed}));Object(i.useEffect)((function(){var t,n,i;c?(t=e.apiKey,n=e.sessionId,i=e.token,Le=ft.a.initSession(t,n),_e=ft.a.initPublisher("publisher",{insertMode:"append",style:{buttonDisplayMode:"off"},width:"100%",height:"100%"},pt),Le.on("streamCreated",(function(e){Me=Le.subscribe(e.stream,"subscriber",{insertMode:"append",style:{buttonDisplayMode:"off"},width:"100%",height:"100%"},pt),bt.dispatch(dt(!0))})),Le.on("streamDestroyed",(function(e){console.log("The Video chat has ended"),bt.dispatch(dt(!1))})),Le.connect(i,(function(e){e?pt(e):Le.publish(_e,pt)}))):Le&&Le.unpublish(_e)}),[c]),Object(i.useEffect)((function(){W(C)}),[C]);var T=function(e){var t;j(e),t=e,_e.publishAudio(t)},z=function(e){var t;O(e),t=e,_e.publishVideo(t)},A=function(e){var t;m(e),t=e,Me.subscribeToAudio(t)},N=function(e){var t;S(e),t=e,Me.subscribeToVideo(t)},P=function(){return Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)("div",{className:"video-toolbar",children:[l?Object(u.jsx)(lt.a,{title:"mic on",children:Object(u.jsx)(Je.a,{onClick:function(){return T(!1)},className:"on-icon"})}):Object(u.jsx)(lt.a,{title:"mic off",children:Object(u.jsx)(Ge.a,{onClick:function(){return T(!0)},className:"off-icon"})}),b?Object(u.jsx)(lt.a,{title:"camera on",children:Object(u.jsx)($e.a,{onClick:function(){return z(!1)},className:"on-icon"})}):Object(u.jsx)(lt.a,{title:"camera off",children:Object(u.jsx)(et.a,{onClick:function(){return z(!0)},className:"off-icon"})}),w&&Object(u.jsxs)(u.Fragment,{children:[x?Object(u.jsx)(lt.a,{title:"sound on",children:Object(u.jsx)(nt.a,{onClick:function(){return A(!1)},className:"on-icon"})}):Object(u.jsx)(lt.a,{title:"sound off",children:Object(u.jsx)(ct.a,{onClick:function(){return A(!0)},className:"off-icon"})}),v?Object(u.jsx)(lt.a,{title:"screen on",children:Object(u.jsx)(rt.a,{onClick:function(){return N(!1)},className:"on-icon"})}):Object(u.jsx)(lt.a,{title:"screen off",children:Object(u.jsx)(ot.a,{onClick:function(){return N(!0)},className:"off-icon"})})]})]})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"actions-btns",children:[Object(u.jsx)(V.a,{onClick:function(){return a(!0)},disabled:c,color:"primary",variant:"contained",children:"Start chat"}),Object(u.jsx)(V.a,{onClick:function(){return a(!1)},disabled:!c,color:"secondary",variant:"contained",children:"Finish chat"})]}),Object(u.jsxs)("div",{className:"video-container",children:[Object(u.jsx)("div",{id:"subscriber",className:"".concat(w?"main-video":"additional-video"),children:w&&P()}),Object(u.jsx)("div",{id:"publisher",className:"".concat(w?"additional-video":"main-video"),children:!w&&P()})]})]})},mt=function(e,t,n,i){fetch(i).then((function(e){return e.json()})).then((function(i){e(i.apiKey),t(i.sessionId),n(i.token)})).catch((function(e){console.log(e)}))},gt=function(){var e=Object(i.useState)("hello"),t=Object(r.a)(e,2),n=t[0],c=(t[1],Object(i.useState)("https://pinmi-test.herokuapp.com/room/"+n)),a=Object(r.a)(c,2),s=a[0],o=(a[1],Object(i.useState)("YOUR_API_KEY")),l=Object(r.a)(o,2),j=l[0],d=l[1],h=Object(i.useState)("YOUR_SESSION_ID"),b=Object(r.a)(h,2),O=b[0],f=b[1],p=Object(i.useState)("YOUR_TOKEN"),x=Object(r.a)(p,2),m=x[0],g=x[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:" Practice Session "}),Object(u.jsx)("button",{onClick:function(){mt(d,f,g,s)},children:"Click me for a new session token"}),Object(u.jsxs)("h1",{children:["apiKeys: ",j]}),Object(u.jsxs)("h1",{children:["sessionId: ",O]}),Object(u.jsxs)("h1",{children:["token: ",m]}),Object(u.jsx)(xt,{apiKey:j,sessionId:O,token:m})]})},yt=function(e){var t=e.curPinIndex,n=e.playTimeArr,i=c.a.useState(""),a=Object(r.a)(i,2),s=a[0],o=a[1];return Object(u.jsx)(te.a,{item:!0,xs:12,sm:8,children:Object(u.jsx)(ne.a,{children:Object(u.jsxs)(Y.a,{m:2,height:600,children:[Object(u.jsxs)(Y.a,{fontStyle:"italic",fontSize:18,children:["The session was pinned at ",Q(n[t])]}),Object(u.jsx)(Y.a,{textAlign:"center",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"Would you like to take some notes for this pin?"}),Object(u.jsx)(ie.a,{id:"outlined-secondary",label:"Personal Notes...",fullWidth:!0,variant:"outlined",multiline:!0,rows:4,margin:"normal"}),Object(u.jsx)(Y.a,{my:1,fontStyle:"italic",fontSize:18,children:" To share with your peer:"}),Object(u.jsx)(Y.a,{textAlign:"center",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"What is your perspective of what happened at this pin?"}),Object(u.jsx)(ie.a,{id:"outlined-secondary",label:"Type a response...",fullWidth:!0,variant:"outlined",multiline:!0,rows:4,margin:"normal"}),Object(u.jsx)(Y.a,{textAlign:"center",fontSize:18,fontWeight:"fontWeightMedium",m:2,children:"What would you categorize this pin as?"}),Object(u.jsx)(Y.a,{align:"center",m:3,children:Object(u.jsxs)(ce.a,{value:s,exclusive:!0,onChange:function(e,t){o(t)},size:"large",children:[Object(u.jsx)(ae.a,{value:"strength",children:"Strength"}),Object(u.jsx)(ae.a,{value:"opportunity",children:"Opportunity"})]})})]})})})},vt=Object(I.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},imageIcon:{height:"100%"},iconRoot:{textAlign:"center"},fab:{marginLeft:450,marginRight:200}}})),St=function(){var e=vt(),t=Object(i.useState)(-1),n=Object(r.a)(t,2),c=n[0],a=n[1],s=Object(i.useState)([10,20,30]),o=Object(r.a)(s,2),l=o[0],j=o[1];return Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(Ee.a,{children:Object(u.jsxs)(te.a,{container:!0,spacing:2,children:[Object(u.jsx)(Ue,{curPinIndex:c,setCurPinIndex:a,playTimeArr:l,setPlayTimeArr:j}),Object(u.jsx)(Ye,{}),Object(u.jsx)(yt,{curPinIndex:c,setCurPinIndex:a,playTimeArr:l,setPlayTimeArr:j})]})})})};function kt(e){switch(e){case 0:return Object(u.jsx)("div",{children:"refresher"});case 1:return Object(u.jsx)(gt,{});case 2:return Object(u.jsx)(Ke,{});case 3:return Object(u.jsx)(St,{});case 4:return Object(u.jsx)("div",{children:"reflection"});case 5:return Object(u.jsx)("div",{children:"complete"});default:return Object(u.jsx)("div",{children:"Unknown"})}}var It=function(){var e=b().curActiveStep;j().pins;return Object(u.jsx)("div",{children:kt(e)})},wt=function(){return Object(u.jsxs)("section",{children:[Object(u.jsx)(U,{}),Object(u.jsx)(It,{}),Object(u.jsx)(q,{})]})},Wt=function(){return Object(u.jsx)(He.a,{store:bt,children:Object(u.jsx)(x,{children:Object(u.jsx)(h,{children:Object(u.jsx)(f,{children:Object(u.jsx)("main",{children:Object(u.jsx)(wt,{})})})})})})};Object(a.render)(Object(u.jsx)(Wt,{}),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.aa9518a8.chunk.js.map